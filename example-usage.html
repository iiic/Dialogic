<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Dialogic html example</title>
	<link rel="preload" as="script" href="/js/modules/importWithIntegrity.mjs" integrity="sha256-cfOxrPKw+HRch/o1HAGTjzeo5g+8Ho2VW5Ki75Y6DII=" crossorigin="anonymous">
	<!-- <link rel="stylesheet" href="/notific.css" crossorigin="anonymous" integrity="sha256-DErgeoS4SQg0UMgS8E4mhJbyqNPHbyooBGsPqlRQviw="> -->
	<style>
		html {
			box-sizing: border-box;
		}

		*,
		*::before,
		*::after {
			box-sizing: inherit;
		}

		body {
			background: var(--body-background);
		}

		.two-examples {
			display: grid;
			grid-template-columns: 50% 50%;
			grid-auto-rows: 49%;
			column-gap: 0.5em;
			align-items: start;
		}

		.two-examples div {
			border: 1px solid gainsboro;
		}

	</style>
	<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
</head>

<body>

	<h1>Dialogic v 0.1</h1>
	<p>Dialog element javascript working like native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification">Notification</a></p>
	<p>Just vanilla javascript, no <s>jQuery</s> or other libraries. Styles and examples included in repo. Same parameters as browser's default <code>Notification()</code> function</p>

	<div id="dialogic-root" hidden></div>
	<script type="module" src="dialogic.mjs?v=0.1" crossorigin="anonymous" data-integrity="sha256-todo"></script>
	<script type="module">
		// const lol = new Dialogic( 'nadpis', { type: Dialogic.CONFIRM } );
		// console.log( lol );
	</script>

	<h2>Příklady:</h2>

	<ol id="table-of-content" role="list">
		<li>
			<a href="#inicializace">Inicializace</a>
		</li>
		<li>
			<a href="#zakladni-priklad">Základní příklad</a>
		</li>
		<li>
			<a href="#globalni-nastaveni-vsech-popupu-dialogic">Globální nastavení všech popupů Dialogic</a>
		</li>
		<li>
			// @todo
		</li>
	</ol>

	<br>
	<h3 id="inicializace">Inicializace</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<p>Vložit do stránky, pro funkci scriptu Dialogic je jedno kam (tedy jestli do elementu <code>head</code>, na konec <code>body</code>, či kamkoliv)</p>
			<pre><code>&lt;script type="module" src="dialogic.mjs?v=0.1" crossorigin="anonymous" data-integrity="sha256-todo"&gt;&lt;/script&gt;</code></pre>
		</div>
		<div>
			Notification:
			<p>Pro použití příkladů s API <code>Notification</code> jsou nutné oprávnění, bez nich se notifikace <strong>nezobrazí</strong>. Bez oprávnění se po volání <code>Notification</code> provede <code>onerror</code> event</p>
			<pre><code class="language-javascript">&lt;script defer&gt;
	Notification.requestPermission();
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Požádat o práva k zobrazování notifikací';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} event */ ) {
						Notification.requestPermission();
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3 id="zakladni-priklad">Základní příklad</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis' );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis' );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis' );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis' );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>S obsahem v body</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {body: 'delší obsah který lépe popisuje o co vlastně jde'} );
&lt;/script&gt;
</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', { body: 'delší obsah který lépe popisuje o co vlastně jde' } );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {body: 'delší obsah který lépe popisuje o co vlastně jde'} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', { body: 'delší obsah který lépe popisuje o co vlastně jde' } );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>S html obsahem v body</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {
		htmlBody: 'obsah &lt;strong&gt;i s tagy&lt;/strong&gt;&lt;br&gt;odřádkováním a obecně &lt;h4&gt;veškeré html&lt;/h4&gt;, nejsou žádné omezení'
	} );
&lt;/script&gt;
		</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', {
							htmlBody: 'obsah <strong>i s tagy</strong><br>odřádkováním a obecně <h4>veškeré html</h4>, nejsou žádné omezení'
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">// nemá odpovídající příklad, Notification neumí HTML v body ani title :(</code></pre>
		</div>
	</section>

	<br>
	<h3>S obrázkem, nadpisem a body</h3>

	<section class="two-examples">
		<div>
			Dialogic (použije obrázek 96 x 96px … tedy přesně dvojnásobek <code>Notification</code>… lze změnit nastavením, 96x96 je default):
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
&lt;/script&gt;
	</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text, aby to bylo dlouhé a bylo z toho patrné, jakým způsobem je obtékaný obrázek. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Praesent id justo in neque elementum ultrices. Etiam bibendum elit eget erat. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. Donec ipsum massa, ullamcorper in, auctor et, scelerisque sed, est. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. In dapibus augue non sapien. Maecenas ipsum velit, consectetuer eu lobortis ut, dictum at dui. Sed elit dui, pellentesque a, faucibus vel, interdum nec, diam. Nulla turpis magna, cursus sit amet, suscipit a, interdum id, felis. Fusce consectetuer risus a nunc. Mauris suscipit, ligula sit amet pharetra semper, nibh ante cursus purus, vel sagittis velit mauris vel metus.',
							icon: 'img/crow.png'
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification (použije obrázek 48 x 48 px … tedy polovinu <code>Dialogic</code>):
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text, aby to bylo dlouhé a bylo z toho patrné, jakým způsobem je obtékaný obrázek.',
							icon: 'img/crow.png'
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Dvě po sobě jdoucí volání funkce… co se asi stane?</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
	new Dialogic( 'jiný nadpis', {
		body: 'a kratší text'
	} );
&lt;/script&gt;
		</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text, aby to bylo dlouhé a bylo z toho patrné, jakým způsobem je obtékaný obrázek. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Praesent id justo in neque elementum ultrices. Etiam bibendum elit eget erat. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. Donec ipsum massa, ullamcorper in, auctor et, scelerisque sed, est. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. In dapibus augue non sapien. Maecenas ipsum velit, consectetuer eu lobortis ut, dictum at dui. Sed elit dui, pellentesque a, faucibus vel, interdum nec, diam. Nulla turpis magna, cursus sit amet, suscipit a, interdum id, felis. Fusce consectetuer risus a nunc. Mauris suscipit, ligula sit amet pharetra semper, nibh ante cursus purus, vel sagittis velit mauris vel metus.',
							icon: 'img/crow.png'
						} );
						new Dialogic( 'jiný nadpis', {
							body: 'a kratší text',
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
	new Notification( 'jiný nadpis', {
		body: 'a kratší text'
	} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text, aby to bylo dlouhé a bylo z toho patrné, jakým způsobem je obtékaný obrázek.',
							icon: 'img/crow.png'
						} );
						new Notification( 'jiný nadpis', {
							body: 'a kratší text',
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>
	<small>V obou případech stejné chování. Notifikace i dialogy se ukládají do fronty a zobrazí se jednou za daný časový interval (v případě <code>Dialogic</code> je to 50ms (hodnota se dá změnit globálním nastavením) v případě <code>Notification</code> nevím, odhadem tak 250ms). Pořadí je v obou případech od té nejnovější k té nejstarší. Tedy v zde uvedeném příkladu odspodu.</small>

	<br>
	<h3>Zobrazení více oznámení paralelně</h3>

	<section class="two-examples">
		<div>
			Dialogic (tohle zatím neumí, umí zobrazit notifikace jen sériově):
			<pre><code class="language-javascript">&lt;script&gt;
	// nope, na tohle nemám odpovídající příklad :( , nepřijde mi to tak důležité, dodělám v pozdějších verzích.
&lt;/script&gt;
			</code></pre>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {
		body: 'První z notifikace, a pod ní bude další',
		icon: 'img/crow.png',
		requireInteraction: true
	} );
	new Notification( 'jiný nadpis', {
		body: 'tyto notifikace budou viditelné současně',
		requireInteraction: true
	} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', {
							body: 'První z notifikace, a pod ní bude další',
							icon: 'img/crow.png',
							requireInteraction: true
						} );
						new Notification( 'jiný nadpis', {
							body: 'tyto notifikace budou viditelné současně',
							requireInteraction: true
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Automatické skrývání oznámení… možnosti</h3>

	<section class="two-examples">
		<div>
			Dialogic, ve výchozím stavu popupy neskrývají (<code>requireInteraction</code> = <code>true</code>) v tomto příkladě je pro změnu ukázané, jak je možné popupy automaticky skrývat s (<code>requireInteraction</code> = <code>false</code>) po 6s (což je výchozí čas, dá se <a href="#globalni-nastaveni-vsech-popupu-dialogic">změnit pomocí globálního nastavení které je v příkladu níže</a>):
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {
		body: 'tento popup se sám zavře po 6s',
		requireInteraction: false
	} );
&lt;/script&gt;
			</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', {
							body: 'tento popup se sám zavře po 6s',
							requireInteraction: false
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification, ve výchozím nastavení skrývá oznámení za 6s, tady v tomto kousku kódu nastavím, že nechci notifikaci skrývat nikdy:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {
		body: 'tato notifikace sama od sebe nikdy nezmizí, vyžaduje klik',
		requireInteraction: true
	} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', {
							body: 'tato notifikace sama od sebe nikdy nezmizí, vyžaduje klik',
							requireInteraction: true
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Navázané události</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	let d = new Dialogic( 'nadpis', { body: 'na tento dialog jsou navázané události… alerty' } );
	d.addEventListener( 'click', () => { alert( 'event click' ); } );
	d.addEventListener( 'close', () => { alert( 'event close' ); } );
	d.addEventListener( 'error', () => { alert( 'event error' ); } );
	d.addEventListener( 'show', () => { alert( 'event show' ); } );
	// alternativně se dá zapsat jako (a fungovat to bude stejně):
	// d.onclick = () => { alert( 'event click' ); };
	// d.onclose = () => { alert( 'event close' ); };
	// d.onerror = () => { alert( 'event error' ); };
	// d.onshow = () => { alert( 'event show' ); };
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						let d = new Dialogic( 'nadpis', { body: 'na tento dialog jsou navázané události… alerty' } );
						d.addEventListener( 'click', () => { alert( 'event click' ); } );
						d.addEventListener( 'close', () => { alert( 'event close' ); } );
						d.addEventListener( 'error', () => { alert( 'event error' ); } );
						d.addEventListener( 'show', () => { alert( 'event show' ); } );
						// alternativně se dá zapsat jako (a fungovat to bude stejně):
						// d.onclick = () => { alert( 'event click' ); };
						// d.onclose = () => { alert( 'event close' ); };
						// d.onerror = () => { alert( 'event error' ); };
						// d.onshow = () => { alert( 'event show' ); };
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification (<strong>důležité:</strong> často dochází k nepochopení kdy se vyvolá <code>close</code> event. Protože ten se <b>ne</b>vyvolá při skrytí notifikace z notifikačního centra, ale jen po kliku na "zavřít", které ovšem mají jen notifikace s <code>requireInteraction</code> = <code>true</code>. Tedy <code>requireInteraction</code> = <code>true</code> je jediná možnost jak vyvovalt <code>close</code> event):
			<pre><code class="language-javascript">&lt;script&gt;
	let n = new Notification( 'nadpis', {
		body: 'na tuto notifikaci jsou navázané události… alerty',
		requireInteraction: true
	} );
	n.addEventListener( 'click', () => { alert( 'event click' ); } );
	n.addEventListener( 'close', () => { alert( 'event close' ); } );
	n.addEventListener( 'error', () => { alert( 'event error' ); } );
	n.addEventListener( 'show', () => { alert( 'event show' ); } );
	// alternativně se dá zapsat jako (a fungovat to bude stejně):
	// n.onclick = () => { alert( 'event click' ); };
	// n.onclose = () => { alert( 'event close' ); };
	// n.onerror = () => { alert( 'event error' ); };
	// n.onshow = () => { alert( 'event show' ); };
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						let n = new Notification( 'nadpis', {
							body: 'na tuto notifikaci jsou navázané události… alerty',
							requireInteraction: true
						} );
						n.addEventListener( 'click', () => { alert( 'event click' ); } );
						n.addEventListener( 'close', () => { alert( 'event close' ); } );
						n.addEventListener( 'error', () => { alert( 'event error' ); } );
						n.addEventListener( 'show', () => { alert( 'event show' ); } );
						// alternativně se dá zapsat jako (a fungovat to bude stejně):
						// n.onclick = () => { alert( 'event click' ); };
						// n.onclose = () => { alert( 'event close' ); };
						// n.onerror = () => { alert( 'event error' ); };
						// n.onshow = () => { alert( 'event show' ); };
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Kombinace 2 po sobě jdoucích volání a návazných událostí</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	let jedna = new Dialogic( 'jedna', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
	let dva = new Dialogic( 'dva', {
		body: 'a kratší text'
	} );
	jedna.addEventListener( 'click', () => { alert( 'jedna click' ); } );
	jedna.addEventListener( 'close', () => { alert( 'jedna close' ); } );
	jedna.addEventListener( 'error', () => { alert( 'jedna error' ); } );
	jedna.addEventListener( 'show', () => { alert( 'jedna show' ); } );
	dva.addEventListener( 'click', () => { alert( 'dva click' ); } );
	dva.addEventListener( 'close', () => { alert( 'dva close' ); } );
	dva.addEventListener( 'error', () => { alert( 'dva error' ); } );
	dva.addEventListener( 'show', () => { alert( 'dva show' ); } );
	// obdobně jako v předchozím případu jdou použít on-eventy
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						let jedna = new Dialogic( 'jedna', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
							icon: 'img/crow.png'
						} );
						let dva = new Dialogic( 'dva', {
							body: 'a kratší text'
						} );
						jedna.addEventListener( 'click', () => { alert( 'jedna click' ); } );
						jedna.addEventListener( 'close', () => { alert( 'jedna close' ); } );
						jedna.addEventListener( 'error', () => { alert( 'jedna error' ); } );
						jedna.addEventListener( 'show', () => { alert( 'jedna show' ); } );
						dva.addEventListener( 'click', () => { alert( 'dva click' ); } );
						dva.addEventListener( 'close', () => { alert( 'dva close' ); } );
						dva.addEventListener( 'error', () => { alert( 'dva error' ); } );
						dva.addEventListener( 'show', () => { alert( 'dva show' ); } );
						// jedna.onclick = () => { alert( 'jedna click' ); };
						// jedna.onclose = () => { alert( 'jedna close' ); };
						// jedna.onerror = () => { alert( 'jedna error' ); };
						// jedna.onshow = () => { alert( 'jedna show' ); };
						// dva.onclick = () => { alert( 'dva click' ); };
						// dva.onclose = () => { alert( 'dva close' ); };
						// dva.onerror = () => { alert( 'dva error' ); };
						// dva.onshow = () => { alert( 'dva show' ); };
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification (stejná podmínka jako v předchozím příkladu: onclose se volá jen při kliku na tlačítko "zavřít" a tlačítko "zavřít" se použije jen s optionem <code>requireInteraction</code> = <code>true</code>):
			<pre><code class="language-javascript">&lt;script&gt;
	let jedna = new Notification( 'jedna', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png',
		requireInteraction: true
	} );
	let dva = new Notification( 'dva', {
		body: 'a kratší text',
		requireInteraction: true
	} );
	jedna.addEventListener( 'click', () => { alert( 'jedna click' ); } );
	jedna.addEventListener( 'close', () => { alert( 'jedna close' ); } );
	jedna.addEventListener( 'error', () => { alert( 'jedna error' ); } );
	jedna.addEventListener( 'show', () => { alert( 'jedna show' ); } );
	dva.addEventListener( 'click', () => { alert( 'dva click' ); } );
	dva.addEventListener( 'close', () => { alert( 'dva close' ); } );
	dva.addEventListener( 'error', () => { alert( 'dva error' ); } );
	dva.addEventListener( 'show', () => { alert( 'dva show' ); } );
	// obdobně jako v předchozím případu jdou použít on-eventy
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						let jedna = new Notification( 'jedna', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
							icon: 'img/crow.png',
							requireInteraction: true
						} );
						let dva = new Notification( 'dva', {
							body: 'a kratší text',
							requireInteraction: true
						} );
						jedna.addEventListener( 'click', () => { alert( 'jedna click' ); } );
						jedna.addEventListener( 'close', () => { alert( 'jedna close' ); } );
						jedna.addEventListener( 'error', () => { alert( 'jedna error' ); } );
						jedna.addEventListener( 'show', () => { alert( 'jedna show' ); } );
						dva.addEventListener( 'click', () => { alert( 'dva click' ); } );
						dva.addEventListener( 'close', () => { alert( 'dva close' ); } );
						dva.addEventListener( 'error', () => { alert( 'dva error' ); } );
						dva.addEventListener( 'show', () => { alert( 'dva show' ); } );
						// jedna.onclick = () => { alert( 'jedna click' ); };
						// jedna.onclose = () => { alert( 'jedna close' ); };
						// jedna.onerror = () => { alert( 'jedna error' ); };
						// jedna.onshow = () => { alert( 'jedna show' ); };
						// dva.onclick = () => { alert( 'dva click' ); };
						// dva.onclose = () => { alert( 'dva close' ); };
						// dva.onerror = () => { alert( 'dva error' ); };
						// dva.onshow = () => { alert( 'dva show' ); };
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Dialog s možnostmi ano / ne</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script type="module"&gt;
	let d = new Dialogic( 'otázka', {
		type: Dialogic.CONFIRM, // tohle zobrazí tlačítka ano / ne
		body: 'souhlasíte?'
	} );
	d.onclick = () => { alert( 'zvoleno ano' ); };
	d.onclose = () => { alert( 'zvoleno ne' ); };
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						let d = new Dialogic( 'otázka', {
							type: Dialogic.CONFIRM,
							body: 'souhlasíte?'
						} );
						d.onclick = () => { alert( 'zvoleno ano' ); };
						d.onclose = () => { alert( 'zvoleno ne' ); };
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification … nejde napodobit zcela přesně, ale na základě předchozího příkladu se dá udělat něco jako:
			<pre><code class="language-javascript">&lt;script&gt;
	let n = new Notification( 'otázka', {
		body: 'souhlasíte?',
		requireInteraction: true
	} );
	n.onclick = () => { alert( 'zvoleno ano' ); };
	n.onclose = () => { alert( 'zvoleno ne' ); };
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						let n = new Notification( 'otázka', {
							body: 'souhlasíte?',
							requireInteraction: true
						} );
						n.onclick = () => { alert( 'zvoleno ano' ); };
						n.onclose = () => { alert( 'zvoleno ne' ); };
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3 id="globalni-nastaveni-vsech-popupu-dialogic">Globální nastavení všech popupů Dialogic</h3>

	<section class="two-examples">
		<div>
			Dialogic… takto mohu změnit každou z výchozích vlastností. V tomto případě přepisuji text na title u křížku zavírajícím popup okno. Tento příklad je tu převedený do praxe částečně, tím title pro zavření okna, ne už výchozí ikonku, ta by zbytečně zkomplikovala příklady:
			<pre><code class="language-javascript">&lt;script type="text/json" id="dialogic-settings"&gt;
	{
		"defaultOptions": {
			"icon": "img/crow.png"
		},
		"snippetAttributes": {
			"closer": {
				"title": "Zavřít popup"
			}
		},
		"texts": {
			"confirmYes": "ano",
			"confirmNo": "ne"
		}
	}
&lt;/script&gt;</code></pre>
			<script type="text/json" id="dialogic-settings">
				{
					"defaultOptions": {
						"icon": "img/crow.png"
					},
					"snippetAttributes": {
						"closer": {
							"title": "Zavřít popup"
						}
					},
					"texts": {
						"confirmYes": "ano",
						"confirmNo": "ne"
					}
				}
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">// nemá odpovídající příklad, Notification nemá nic jako globální nastavení :(</code></pre>
		</div>
	</section>

	/// @todo : vyzkoušet použití root elementu pro dialogy

	<!-- <strong>Whats happening?</strong>
	<p>This page is showing notifications periodically every 8 seconds, and automatically hide them 15 seconds from display. (so max 2 notifications at the same tame).</p>
	<p>When tab is active notification is on page, when you switch to another tab, notifications will be shown by browser <code>Notification()</code> function.</p>
	<p>If native notifications are not working <button id="get-notification-permission">Get permissions for <code>Nofification()</code> by clicking this button</button></p>
	<p>The described behavior can be changed using the settings by inlined <code>text/json</code> object.</p>
	<hr>
	<h2 id="possible-problems">Possible problems?</h2>
	<p>The mjs extension must have the correct mime type set to <code>text/javascript</code>, if it is too laborious, rename the suffix from <code>.mjs</code> to <code>.js</code>.</p>
	<h2 id="services">Services</h2>
	<p>Unpkg: <a href="https://unpkg.com/notific-on-page-or-native-notifications">https://unpkg.com/notific-on-page-or-native-notifications</a></p>
	<p>NPM: <a href="https://www.npmjs.com/package/notific-on-page-or-native-notifications">https://www.npmjs.com/package/notific-on-page-or-native-notifications</a></p>
	<h2 id="licence">Licence</h2>
	<p><strong>CC BY-SA 4.0</strong></p>
	<p>This work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License. To view a copy of this license, visit <a href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a> or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.</p>
	<hr>
	<p>For more info:</p>
	<ul>
		<li>Readme in standalone file <a href="/README.md">/README.md</a></li>
		<li>Repo on <a href="https://github.com/iiic/notific">Github</a></li>
		<li>Webpage about function <a href="https://iiic.dev/notific-on-page-or-native-notifications">https://iiic.dev/notific-on-page-or-native-notifications</a></li>
	</ul> -->

	<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js" defer crossorigin="anonymous" integrity="sha256-g3pvpbDHNrUrveKythkPMF2j/J7UFoHbUyFQcFe1yEY="></script>
	<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/javascript.min.js" defer crossorigin="anonymous" integrity="sha256-j2desQDHlJi9NfQi+bXXw2pLiccp1+R3FVBhkHkr+fA="></script>
	<script type="module">hljs.highlightAll();</script>
