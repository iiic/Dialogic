<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Dialogic html example</title>
	<!-- <link rel="stylesheet" href="/notific.css" crossorigin="anonymous" integrity="sha256-DErgeoS4SQg0UMgS8E4mhJbyqNPHbyooBGsPqlRQviw="> -->
	<style>
		html {
			box-sizing: border-box;
		}

		*,
		*::before,
		*::after {
			box-sizing: inherit;
		}

		body {
			background: var(--body-background);
		}

		.two-examples {
			display: grid;
			grid-template-columns: auto auto;
			grid-auto-rows: 49%;
			column-gap: 0.5em;
			align-items: start;
		}

		.two-examples div {
			border: 1px solid gainsboro;
		}

	</style>
	<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
</head>

<body>

	<h1>Dialogic v 0.1</h1>
	<p>Dialog element javascript working like native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification">Notification</a></p>
	<p>Just vanilla javascript, no <s>jQuery</s> or other libraries. Styles and examples included in repo. Same parameters as browser's default <code>Notification()</code> function</p>

	<div id="dialogic-root" hidden></div>
	<script type="text/json" id="dialogic-settings">
			{
				"modulesImportPath": "/modules",
				"novaHodnota": "je tu"
			}
		</script>
	<script type="module" src="dialogic.mjs?v=0.1" crossorigin="anonymous" data-integrity="sha256-todo"></script>
	<script type="module">
		// const lol = new Dialogic( 'nadpis', { type: Dialogic.CONFIRM } );
		// console.log( lol );
	</script>

	<h2>Příklady:</h2>

	<h3>Inicializace</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<p>Vložit do stránky, pro funkci scriptu Dialogic je jedno kam (tedy jestli do elementu <code>head</code>, na konec <code>body</code>, či kamkoliv)</p>
			<pre><code>&lt;script type="module" src="dialogic.mjs?v=0.1" crossorigin="anonymous" data-integrity="sha256-todo"&gt;&lt;/script&gt;</code></pre>
		</div>
		<div>
			Notification:
			<p>Pro použití příkladů s API <code>Notification</code> jsou nutné oprávnění, bez nich se notifikace <strong>nezobrazí</strong>.</p>
			<pre><code class="language-javascript">&lt;script defer&gt;
	Notification.requestPermission();
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Požádat o práva k zobrazování notifikací';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} event */ ) {
						Notification.requestPermission();
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Základní příklad</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis' );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis' );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis' );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis' );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>S obsahem v body</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {body: 'delší obsah který lépe popisuje o co vlastně jde'} );
&lt;/script&gt;
</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', { body: 'delší obsah který lépe popisuje o co vlastně jde' } );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {body: 'delší obsah který lépe popisuje o co vlastně jde'} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', { body: 'delší obsah který lépe popisuje o co vlastně jde' } );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>S html obsahem v body</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {htmlBody: 'obsah &lt;strong&gt;i s tagy&lt;/strong&gt;&lt;br&gt;odřádkováním a obecně &lt;h4&gt;veškeré html&lt;/h4&gt;, nejsou žádné omezení'} );
&lt;/script&gt;
		</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', { htmlBody: 'obsah <strong>i s tagy</strong><br>odřádkováním a obecně <h4>veškeré html</h4>, nejsou žádné omezení' } );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">// nemá odpovídající příklad, Notification neumí HTML v body ani title :(</code></pre>
		</div>
	</section>

	<br>
	<h3>S obrázkem, nadpisem a body (obrázky se omezí v obou případech na 96x96px)</h3>

	<section class="two-examples">
		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script&gt;
	new Dialogic( 'nadpis', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
&lt;/script&gt;
	</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Dialogic( 'nadpis', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text, aby to bylo dlouhé a bylo z toho patrné, jakým způsobem je obtékaný obrázek. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Praesent id justo in neque elementum ultrices. Etiam bibendum elit eget erat. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. Donec ipsum massa, ullamcorper in, auctor et, scelerisque sed, est. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. In dapibus augue non sapien. Maecenas ipsum velit, consectetuer eu lobortis ut, dictum at dui. Sed elit dui, pellentesque a, faucibus vel, interdum nec, diam. Nulla turpis magna, cursus sit amet, suscipit a, interdum id, felis. Fusce consectetuer risus a nunc. Mauris suscipit, ligula sit amet pharetra semper, nibh ante cursus purus, vel sagittis velit mauris vel metus.',
							icon: 'img/crow.png'
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
		<div>
			Notification:
			<pre><code class="language-javascript">&lt;script&gt;
	new Notification( 'nadpis', {
		body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text…',
		icon: 'img/crow.png'
	} );
&lt;/script&gt;</code></pre>
			<script defer>
				( () => {
					const button = document.createElement( 'button' );
					button.textContent = 'Spustit kód';
					button.addEventListener( 'click', function ( /** @type {PointerEvent} */ event ) {
						new Notification( 'nadpis', {
							body: 'Delší obsah který lépe popisuje o co vlastně jde. Plus další text, aby to bylo dlouhé a bylo z toho patrné, jakým způsobem je obtékaný obrázek.',
							icon: 'img/crow.png'
						} );
					}, {
						capture: false,
						once: false,
						passive: true,
					} );
					document.currentScript.insertAdjacentElement( 'afterend', button );
				} )();
			</script>
		</div>
	</section>

	<br>
	<h3>Dialog s možnostmi ano / ne</h3>

	<section class="two-examples">

		<div>
			Dialogic:
			<pre><code class="language-javascript">&lt;script type="module"&gt;
	const lol = new Dialogic( 'nadpis', { type: Dialogic.CONFIRM } );
	console.log( lol );
&lt;/script&gt;</code></pre>
			ukázka
		</div>

		<div>
			Notification:
			/// asi nějak půjde s pomocí návazných událostí na klik na notifikaci a klik na křížek
		</div>
	</section>

	<!-- <strong>Whats happening?</strong>
	<p>This page is showing notifications periodically every 8 seconds, and automatically hide them 15 seconds from display. (so max 2 notifications at the same tame).</p>
	<p>When tab is active notification is on page, when you switch to another tab, notifications will be shown by browser <code>Notification()</code> function.</p>
	<p>If native notifications are not working <button id="get-notification-permission">Get permissions for <code>Nofification()</code> by clicking this button</button></p>
	<p>The described behavior can be changed using the settings by inlined <code>text/json</code> object.</p>
	<hr>
	<h2 id="possible-problems">Possible problems?</h2>
	<p>The mjs extension must have the correct mime type set to <code>text/javascript</code>, if it is too laborious, rename the suffix from <code>.mjs</code> to <code>.js</code>.</p>
	<h2 id="services">Services</h2>
	<p>Unpkg: <a href="https://unpkg.com/notific-on-page-or-native-notifications">https://unpkg.com/notific-on-page-or-native-notifications</a></p>
	<p>NPM: <a href="https://www.npmjs.com/package/notific-on-page-or-native-notifications">https://www.npmjs.com/package/notific-on-page-or-native-notifications</a></p>
	<h2 id="licence">Licence</h2>
	<p><strong>CC BY-SA 4.0</strong></p>
	<p>This work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License. To view a copy of this license, visit <a href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a> or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.</p>
	<hr>
	<p>For more info:</p>
	<ul>
		<li>Readme in standalone file <a href="/README.md">/README.md</a></li>
		<li>Repo on <a href="https://github.com/iiic/notific">Github</a></li>
		<li>Webpage about function <a href="https://iiic.dev/notific-on-page-or-native-notifications">https://iiic.dev/notific-on-page-or-native-notifications</a></li>
	</ul> -->

	<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js" defer crossorigin="anonymous" integrity="sha256-g3pvpbDHNrUrveKythkPMF2j/J7UFoHbUyFQcFe1yEY="></script>
	<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/javascript.min.js" defer crossorigin="anonymous" integrity="sha256-j2desQDHlJi9NfQi+bXXw2pLiccp1+R3FVBhkHkr+fA="></script>
	<script type="module">hljs.highlightAll();</script>
